<!DOCTYPE html>
<html>

<head>
    <title>Manage Groups</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: #f4f6f9;
        }

        .sidebar {
            height: 100vh;
            background: #0d6efd;
            color: white;
            padding: 20px;
            width: 230px;
        }

        .sidebar a {
            display: block;
            margin: 10px 0;
            padding: 12px;
            text-decoration: none;
            color: #ffffff;
        }

        .sidebar a:hover {
            background: rgba(255,255,255,0.2);
        }


        .card-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>

    <div class="container-fluid">
        <div class="row">

            <!-- Sidebar -->
            <div class="col-md-3 sidebar">
                <h4>Invoice</h4>
                <a href="dashboard.html"><i class="bi bi-speedometer2"></i>Dashboard</a>
                <a href="groups.html"><b>Manage Groups</b></a>
                <a href="#">Manage Chain</a>
                <a href="#">Manage Brands</a>
                <a href="#">Manage Subzones</a>
                <a href="#">Manage Estimates</a>
                <a href="#">Manage Invoices</a>
            </div>

            <!-- Main Content -->
            <div class="col-md-9 p-4">

                <h3 class="mb-4">Manage Group Section</h3>

                <div class="card-box mb-4">
                    <a href="add-group.html" class="btn btn-primary">Add Group</a>
                </div>

                <div class="card-box">
                    <h5>Total Groups: <span id="count"></span></h5>
                    <table class="table mt-3">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Group Name</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody id="list"></tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>

    <script src="group.js"></script>

    <script>
        let list = document.getElementById("list");
        let count = document.getElementById("count");

        function render() {
            list.innerHTML = "";
            let data = getGroups();
            count.innerText = data.length;

            data.forEach((g, i) => {
                list.innerHTML += `
      <tr>
        <td>${i + 1}</td>
        <td>${g.name}</td>
        <td>
          <a href="edit-group.html?id=${i}" class="btn btn-warning btn-sm">Edit</a>
        </td>
        <td>
          <button onclick="remove(${i})" class="btn btn-danger btn-sm">Delete</button>
        </td>
      </tr>
    `;
            });
        }

        function remove(id) {
            deleteGroup(id);
            render();
        }

        render();
    </script>

</body>

</html>